!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=function(a,b){this.set(a,b)};d.prototype={vimeo:a("./lib/vimeo"),youtube:a("./lib/yt"),parser:a("./lib/parser"),parsedData:null,videoData:null,el:null,player:null,config:"",setVideoType:function(){void 0!==this.parsedData&&(this.videoData="vimeo"===this.parsedData.type?new this.vimeo:"youtube"===this.parsedData.type?new this.youtube:"")},setListeners:function(){function a(a){b.player.addEventListener("vcr:"+a,function(){b[a]()})}for(var b=this,c=["play","pause","seek","volume","mute","stop"],d=0;d<c.length;d++)a(c[d]);this.player.addEventListener("vcr:play",function(){b.play()}),this.player.addEventListener("vcr:pause",function(){b.pause()}),this.player.addEventListener("vcr:stop",function(){b.stop()}),this.player.addEventListener("vcr:seek",function(a){b.seek(a.detail.seek)}),this.player.addEventListener("vcr:volume",function(a){b.seek(a.detail.volume)}),this.player.addEventListener("vcr:currentTime",function(a){return b.currentTime()}),this.player.addEventListener("vcr:duration",function(a){return b.duration()})},set:function(a,b){var c,d;this.config=a,a instanceof Object?(d=a.el?a.el:"vcrPlayer"+Math.floor(6e3*Math.random())+1,c=a.url?a.url:"",d&&a.url&&null===document.querySelector("#"+a.el)?this.whereToPut(d,a):d&&!a.url?(d=a.el,c=document.getElementById(d).src):console.error("Hmm, I don't think you added an element id or url..."),this.el=d):(d=a,c=document.getElementById(d).src,this.el=d);var e=this,f=b&&b.parameters?b.parameters:{};this.parsedData=this.parser.parse(c),this.setVideoType();var g=this.videoData,h=this.parsedData.id;b&&b.autoplay&&(f.autoplay=1),""!==g&&(this.player=document.getElementById(this.el),this.player.addEventListener("vcr:ready",function(){if(b&&b.scrollStop){e.throttleVideo();var a=e.debounce(e.throttleVideo,250);window.addEventListener("scroll",a)}}),f=this.setOptions(f),this.videoData.setPlayer(h,d,f),this.setListeners(),this.setConfigDimensions())},setConfigDimensions:function(){if(this.player){var a=this.player,b=this.config;a.width=b.width&&!a.width?b.width:a.width,a.height=b.height&&!a.height?b.height:a.height}},whereToPut:function(a,b){var c=b,d=document.createElement("iframe");d.id=a,d=d.outerHTML,c.insertBefore?document.querySelector(c.insertBefore).insertAdjacentHTML("beforebegin",d):c.insertAfter?document.querySelector(c.insertAfter).insertAdjacentHTML("afterEnd",d):c.appendTo?document.querySelector(c.appendTo).insertAdjacentHTML("beforeend",d):c.prependTo?document.querySelector(c.prependTo).insertAdjacentHTML("afterbegin",d):document.body.insertAdjacentHTML("afterbegin",d)},setOptions:function(b){var c=a("queso");return c.stringify(b,!0)},play:function(){this.fireEvent("playing"),this.videoData.play()},pause:function(){this.fireEvent("paused"),this.videoData.pause()},seek:function(a){this.fireEvent("sought"),this.videoData.seek(a)},volume:function(a){this.fireEvent("volumeChanged"),this.videoData.setVolume(a)},currentTime:function(){return this.fireEvent("currentTime"),this.videoData.getCurrentTime()},duration:function(){return this.fireEvent("durationTime"),this.videoData.getDuration()},mute:function(){this.fireEvent("muted"),this.volume(0)},stop:function(){this.fireEvent("stopped");var a=this;a.videoData.stop()},customFn:function(a,b){b=b.length>0?b:[],this.videoData.customFn(a,b)},fireEvent:function(a){var b=new CustomEvent("vcr:"+a);this.player.dispatchEvent(b)},throttleVideo:function(){this.withinViewport(this.el)===!1?this.pause():this.play()},debounce:function(a,b,c){var d,e=this;return function(){var f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},withinViewport:function(a){var b=document.getElementById(a),c=b.getBoundingClientRect(),d=b.offsetHeight/3,e=window.innerHeight-c.top;return c.top>0&&e>b.offsetHeight/2||c.top<b.offsetHeight-d&&c.bottom>=d}},window.vcr=d,b.exports=d},{"./lib/parser":2,"./lib/vimeo":3,"./lib/yt":4,queso:5}],2:[function(a,b,c){"use strict";var d={parse:function(a){var b=null;return this.parsePlainUrl(a),RegExp&&RegExp.$3&&RegExp.$3.indexOf("youtu")>-1?b="youtube":RegExp&&RegExp.$3&&RegExp.$3.indexOf("vimeo")>-1&&(b="vimeo"),{type:b||"",id:RegExp.$6||""}},isValidUrl:function(a){var b=new RegExp("^(http[s]?:\\/\\/(www\\.)?|ftp:\\/\\/(www\\.)?|www\\.){1}([0-9A-Za-z-\\.@:%_+~#=]+)+((\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\?(.)*)?");return b.test(a)?!0:!1},parsePlainUrl:function(a){return this.isValidUrl(a)?a?a.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/):"":!1}};b.exports=d},{}],3:[function(a,b,c){"use strict";var d=function(){},e=!1;d.prototype={playerId:"",iframeId:"",state:null,ready:!1,listenersAdded:!1,duration:"",currentTime:"",customFn:function(a,b){this.post(a,b.join())},play:function(){this.post("play")},pause:function(){this.post("pause")},seek:function(a){this.post("seekTo",a)},stop:function(){this.post("unload")},setVolume:function(a){var b=0>=a?0:a,c=b/100;this.post("setVolume",c.toString())},getDuration:function(){return this.duration},getCurrentTime:function(){var a=this;return setTimeout(function(){a.post("getCurrentTime","")},500),this.currentTime},addAllListeners:function(){for(var a=this,b=["play","pause","finish","seek","playProgress"],c=0;c<b.length;c++)this.post("addEventListener",b[c]);this.listenersAdded=!0,document.querySelector(this.iframeId).addEventListener("vcr:getCurrentData",function(b){a.currentTime=b.detail.time,a.duration=b.detail.duration})},onMessageReceived:function(a,b){var c,d=JSON.parse(a.data);this.state=d.event,this.ready=!0,"ready"===d.event?(this.addAllListeners(),c=new CustomEvent("vcr:ready",{detail:{instance:b}}),setTimeout(function(){document.getElementById(d.player_id).dispatchEvent(c)},1e3),this.listenersAdded=!0):"playProgress"===d.event&&(c=new CustomEvent("vcr:getCurrentData",{detail:{time:d.data.seconds,duration:d.data.duration}}),document.getElementById(d.player_id).dispatchEvent(c))},setPlayer:function(a,b,c){var d=document.getElementById(b),f=this;this.iframeId="#"+b,this.playerId=b,d.src=this.setURL(a,c),window.addEventListener&&e===!1&&(window.addEventListener("message",function(a){f.onMessageReceived.call(f,a)},!1),e=!0)},post:function(a,b){var c={method:a},d=document.querySelector(this.iframeId);b&&(c.value=b.toString());var e=d.src,f=JSON.stringify(c);document.getElementById(this.playerId).contentWindow.postMessage(f,e)},setURL:function(a,b){var c="https://player.vimeo.com/video/"+a+"?api=1&player_id="+this.playerId+b;return c}},b.exports=d},{}],4:[function(a,b,c){"use strict";var d=function(){};d.prototype={player:"",ready:!1,iframeId:"",playerId:"",customFn:function(a,b){this.player[a](b.join())},play:function(){this.player.playVideo()},pause:function(){this.player.pauseVideo()},seek:function(a){this.player.seekTo(a)},stop:function(){this.player.stopVideo()},setVolume:function(a){this.player.setVolume(a)},getCurrentTime:function(){return this.player.getCurrentTime()},getDuration:function(){return this.player.getDuration()},setPlayer:function(a,b,c){this.addAPI();var d=this.setURL(a,b,c),e=document.querySelector("#"+b);e.src=d},setInstance:function(){var a=this;document.addEventListener("vcr:ytReady",function(b){a.player=b.detail.instance})},onPlayerReady:function(a){var b=new CustomEvent("vcr:ready"),c=new CustomEvent("vcr:ytReady",{detail:{instance:a.target}});document.dispatchEvent(c);var d=document.getElementById(a.target.h.j.instance);d.dispatchEvent(b)},onStateChange:function(a){document.getElementById(a.target.h.h.instance)},onReady:function(a){var b=this;this.player=new YT.Player(this.playerId,{videoId:a,instance:this.playerId,events:{onReady:b.onPlayerReady,onStateChange:b.onStateChange}})},addAPI:function(){var a,b,c='script[src="https://www.youtube.com/iframe_api"]',d="https://www.youtube.com/iframe_api",e=document.querySelector(c);e||(b=document.createElement("script"),b.src=d,a=document.getElementsByTagName("script")[0],document.body.insertBefore(b,a))},setURL:function(a,b,c){var d,e=this;return this.iframeId="#"+b,this.playerId=b,document.addEventListener("vcr:ytLoaded",function(){e.onReady(a)}),window.onYouTubeIframeAPIReady=function(){var a=new CustomEvent("vcr:ytLoaded");document.dispatchEvent(a)},d="http://www.youtube.com/embed/"+a+"?enablejsapi=1&playerapiid="+this.playerId+c}},b.exports=d},{}],5:[function(a,b,c){"use strict";function d(a,b){function c(c,d){var e=b!==!0&&0===c.length?"?":"&",f=c+e+d,g=a[d];if(g===!0)return f;var h=encodeURIComponent(g);return f+"="+h}return Object.keys(a).reduce(c,"")}b.exports={stringify:d}},{}]},{},[1]);
